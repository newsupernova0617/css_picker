<!DOCTYPE html>
<!-- HTML5 ë¬¸ì„œ íƒ€ì… ì„ ì–¸ - ë¸Œë¼ìš°ì €ì—ê²Œ ì´ê²ƒì´ HTML5 ë¬¸ì„œì„ì„ ì•Œë ¤ì¤ë‹ˆë‹¤ -->

<html lang="en">
<!-- HTML ë¬¸ì„œì˜ ì‹œì‘ íƒœê·¸, lang="en"ì€ ì´ ë¬¸ì„œê°€ ì˜ì–´ë¡œ ì‘ì„±ë˜ì—ˆìŒì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤ -->

<head>
  <!-- head ì„¹ì…˜: ì›¹í˜ì´ì§€ì˜ ë©”íƒ€ë°ì´í„°(ì •ë³´)ë¥¼ ë‹´ëŠ” ë¶€ë¶„ì…ë‹ˆë‹¤. ì‚¬ìš©ìì—ê²ŒëŠ” ë³´ì´ì§€ ì•ŠìŠµë‹ˆë‹¤ -->
  
  <!-- ë¬¸ì ì¸ì½”ë”©ì„ UTF-8ë¡œ ì„¤ì • - í•œê¸€, ì˜ì–´, íŠ¹ìˆ˜ë¬¸ì ë“±ì„ ì œëŒ€ë¡œ í‘œì‹œí•  ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤ -->
  <meta charset="UTF-8">
  
  <!-- ë°˜ì‘í˜• ë””ìì¸ì„ ìœ„í•œ viewport ì„¤ì • - ëª¨ë°”ì¼ì—ì„œë„ ì œëŒ€ë¡œ ë³´ì´ê²Œ í•©ë‹ˆë‹¤ -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <!-- ë¸Œë¼ìš°ì € íƒ­ì— í‘œì‹œë  í˜ì´ì§€ ì œëª©ì…ë‹ˆë‹¤ -->
  <title>CSS Element Picker</title>
  
  <!-- Bootstrap CSS í”„ë ˆì„ì›Œí¬ë¥¼ CDNì—ì„œ ê°€ì ¸ì™€ì„œ ì‚¬ìš©í•©ë‹ˆë‹¤ -->
  <!-- Bootstrapì€ ë¯¸ë¦¬ ë§Œë“¤ì–´ì§„ ë””ìì¸ ìŠ¤íƒ€ì¼ë“¤ì„ ì œê³µí•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤ -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  
  <!-- ìš°ë¦¬ê°€ ì§ì ‘ ë§Œë“  CSS ìŠ¤íƒ€ì¼ íŒŒì¼ì„ ì—°ê²°í•©ë‹ˆë‹¤ -->
  <link rel="stylesheet" href="sidepanel.css">
  
  <!-- JSZip ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ë¡œì»¬ì—ì„œ ë¡œë“œí•©ë‹ˆë‹¤ - ì—¬ëŸ¬ íŒŒì¼ì„ ZIPìœ¼ë¡œ ì••ì¶•í•˜ê¸° ìœ„í•´ ì‚¬ìš© -->
  <script src="lib/jszip.min.js"></script>
  
  <!-- HTML2Canvas ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ë¡œì»¬ì—ì„œ ë¡œë“œí•©ë‹ˆë‹¤ - í”½ì…€ ë‹¨ìœ„ ìƒ‰ìƒ ì¶”ì¶œì„ ìœ„í•´ ì‚¬ìš© -->
  <script src="lib/html2canvas.min.js"></script>
  
  <!-- Bootstrap JSë¥¼ ë¡œì»¬ì—ì„œ ë¡œë“œí•©ë‹ˆë‹¤ (ë“œë¡­ë‹¤ìš´ ê¸°ëŠ¥ì„ ìœ„í•´ í•„ìš”) -->
  <script src="lib/bootstrap.bundle.min.js"></script>
  
  <!-- JavaScript íŒŒì¼ë“¤ì´ sidepanel.jsì— ì¸ë¼ì¸ìœ¼ë¡œ í¬í•¨ë¨ -->
  
  <!-- í…ŒìŠ¤íŠ¸ìš© ì¸ë¼ì¸ ìŠ¤í¬ë¦½íŠ¸ -->
  <script>
    console.log('ğŸš¨ HTML inline script is running!');
    console.log('Chrome object exists?', typeof chrome !== 'undefined');
    if (typeof chrome !== 'undefined' && chrome.runtime) {
      console.log('Extension ID:', chrome.runtime.id);
    }
  </script>
</head>

<body>
  <!-- body ì„¹ì…˜: ì‚¬ìš©ìì—ê²Œ ì‹¤ì œë¡œ ë³´ì´ëŠ” ë‚´ìš©ë“¤ì´ ë“¤ì–´ê°€ëŠ” ë¶€ë¶„ì…ë‹ˆë‹¤ -->
  
  <!-- ì „ì²´ ì»¨í…ì¸ ë¥¼ ê°ì‹¸ëŠ” ì»¨í…Œì´ë„ˆ div -->
  <div class="container">
    
    <!-- header ì„¹ì…˜: í˜ì´ì§€ì˜ ìƒë‹¨ ë¶€ë¶„ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤ -->
    <header class="header">
      <!-- í˜ì´ì§€ì˜ ì£¼ì œëª© -->
      <h2 class="title">CSS Element Picker</h2>
      
      <div class="header-controls">
        <!-- ìƒíƒœê°€ í¬í•¨ëœ í† ê¸€ ë²„íŠ¼ -->
        <button id="toggleBtn" class="btn btn-primary btn-sm">
          ğŸŸ¢ Active Picker
        </button>
        
        <!-- ë”ë³´ê¸° ë“œë¡­ë‹¤ìš´ ë©”ë‰´ -->
        <div class="dropdown">
          <button class="btn btn-secondary btn-sm dropdown-toggle" type="button" id="moreOptionsBtn" data-bs-toggle="dropdown" aria-expanded="false">
            â‹® More
          </button>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="moreOptionsBtn">
            <li>
              <a class="dropdown-item" href="#" id="colorPaletteMenuItem">
                ğŸ¨ Color Palette
              </a>
            </li>
            <li>
              <a class="dropdown-item" href="#" id="consoleMenuItem">
                ğŸ–¥ï¸ Console
              </a>
            </li>
            <li>
              <a class="dropdown-item" href="#" id="assetManagerMenuItem">
                ğŸ“¦ Asset Manager
              </a>
            </li>
          </ul>
        </div>
      </div>
    </header>
    
    <!-- Authentication Section -->
    <div class="auth-section" id="authSection">
      <!-- Sign In State -->
      <div class="auth-signed-out" id="authSignedOut">
        <div class="auth-card">
          <div class="auth-header">
            <h4>ğŸ” Sign In Required</h4>
            <p>Sign in to access advanced features and sync your settings.</p>
          </div>
          <div class="auth-actions">
            <button id="signInBtn" class="btn btn-primary btn-sm w-100">
              Sign In with Clerk
            </button>
            <div class="auth-loading" id="authLoading" style="display: none;">
              <div class="spinner-border spinner-border-sm me-2" role="status"></div>
              Signing in...
            </div>
          </div>
        </div>
      </div>
      
      <!-- Sign In State -->
      <div class="auth-signed-in" id="authSignedIn" style="display: none;">
        <div class="user-info">
          <div class="user-avatar">
            <div class="avatar-circle" id="userAvatar">ğŸ‘¤</div>
          </div>
          <div class="user-details">
            <div class="user-name" id="userName">Loading...</div>
            <div class="user-email" id="userEmail">Loading...</div>
          </div>
          <div class="user-actions">
            <button id="signOutBtn" class="btn btn-outline-secondary btn-sm">
              Sign Out
            </button>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Plan Status Section -->
    <div class="plan-status-section" id="planStatusSection">
      <div class="plan-badge" id="planBadge">
        <span class="plan-name" id="planName">Free Plan</span>
        <button class="btn btn-primary btn-sm upgrade-btn" id="upgradeBtn" style="display: none;">
          Upgrade to Premium
        </button>
      </div>
    </div>
    
    <!-- Premium Feature Modal -->
    <div class="modal fade" id="upgradeModal" tabindex="-1" aria-labelledby="upgradeModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="upgradeModalLabel">ğŸš€ Premium Feature</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <div class="upgrade-content">
              <p class="upgrade-message" id="upgradeMessage">This feature requires Premium plan.</p>
              <div class="premium-benefits">
                <h6>Premium includes:</h6>
                <ul class="benefits-list" id="benefitsList">
                  <li>ğŸ¨ Unlimited color sampling & palettes</li>
                  <li>ğŸ“¦ Asset collection & download</li>
                  <li>ğŸ¯ CSS to Tailwind conversion</li>
                  <li>ğŸ–¥ï¸ Advanced console monitoring</li>
                  <li>ğŸ“¤ Export functionality</li>
                  <li>âš¡ Priority support</li>
                </ul>
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Maybe Later</button>
            <button type="button" class="btn btn-primary" id="upgradeNowBtn">Upgrade Now</button>
          </div>
        </div>
      </div>
    </div>
    
    <!-- main ì„¹ì…˜: í˜ì´ì§€ì˜ ì£¼ìš” ë‚´ìš©ì´ ë“¤ì–´ê°€ëŠ” ë¶€ë¶„ì…ë‹ˆë‹¤ -->
    <main class="main-content">
      
      <!-- CSS ì •ë³´ í‘œì‹œ ì„¹ì…˜ -->
      <div class="css-info-section" id="cssInfoSection" style="display: none;">
        <h3>Selected Element CSS</h3>
        
        <!-- ì••ì¶•ëœ ìš”ì†Œ ì •ë³´ -->
        <div class="element-info-compact">
          <span class="element-selector" id="elementSelector">-</span>
          <button class="btn btn-outline-secondary btn-sm copy-selector-btn" id="copySelectorBtn" title="Copy Selector">
            ğŸ“‹
          </button>
        </div>
        
        <!-- CSS ì†ì„± ëª©ë¡ -->
        <div class="css-properties">
          <div class="properties-header">
            <h4 id="propertiesTitle">CSS Properties</h4>
            <div class="properties-controls">
              <button class="btn btn-info btn-sm" id="convertToTailwindBtn">
                ğŸ¨ Convert to Tailwind
              </button>
              <button class="btn btn-outline-secondary btn-sm" id="backToCssBtn" style="display: none;">
                â† Back to CSS
              </button>
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="selectAllCheckbox">
                <label class="form-check-label" for="selectAllCheckbox">
                  Select All
                </label>
              </div>
              <div class="copy-css-dropdown">
                <button class="btn btn-primary btn-sm dropdown-toggle" type="button" id="copyCssBtn" data-bs-toggle="dropdown" aria-expanded="false">
                  ğŸ“‹ Copy CSS
                </button>
                <ul class="dropdown-menu" aria-labelledby="copyCssBtn">
                  <li><a class="dropdown-item" href="#" data-format="css">CSS Rule</a></li>
                  <li><a class="dropdown-item" href="#" data-format="inline">Inline Style</a></li>
                  <li><a class="dropdown-item" href="#" data-format="js">JS Object</a></li>
                  <li><hr class="dropdown-divider"></li>
                  <li><a class="dropdown-item" href="#" data-format="modified">Modified Only</a></li>
                </ul>
              </div>
              <div class="copy-tailwind-dropdown" id="copyTailwindDropdown" style="display: none;">
                <button class="btn btn-success btn-sm dropdown-toggle" type="button" id="copyTailwindBtn" data-bs-toggle="dropdown" aria-expanded="false">
                  ğŸ“‹ Copy Tailwind
                </button>
                <ul class="dropdown-menu" aria-labelledby="copyTailwindBtn">
                  <li><a class="dropdown-item" href="#" data-format="tailwind-classes">Tailwind Classes</a></li>
                  <li><a class="dropdown-item" href="#" data-format="mixed-format">Mixed Format</a></li>
                  <li><hr class="dropdown-divider"></li>
                  <li><a class="dropdown-item" href="#" data-format="tailwind-selected">Selected Only</a></li>
                </ul>
              </div>
            </div>
          </div>
          
          <!-- Accordion í˜•íƒœì˜ ë¶„ë¥˜ë³„ ì†ì„± ëª©ë¡ -->
          <div class="properties-accordion" id="propertiesAccordion">
            <!-- ì¹´í…Œê³ ë¦¬ë“¤ì´ ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
          </div>
        </div>
        
        <!-- ì»¨íŠ¸ë¡¤ ë²„íŠ¼ë“¤ -->
        <div class="css-info-controls">
          <button id="resetStyles" class="btn btn-warning btn-sm">Reset All</button>
          <button id="closeCssInfo" class="btn btn-secondary btn-sm">Close</button>
        </div>
      </div>
      
      <!-- Color Palette ì„¹ì…˜ -->
      <div class="color-palette-section" id="colorPaletteSection" style="display: none;">
        <div class="palette-header">
          <h3>ğŸ¨ Color Palette</h3>
          <div class="palette-status">
            <span id="samplingStatus" class="sampling-status">ğŸ¯ Click anywhere to open native color picker</span>
            <button id="exitColorModeBtn" class="btn btn-outline-secondary btn-sm">
              â† Back to CSS
            </button>
          </div>
        </div>
        
        <!-- ì‹¤ì‹œê°„ ìƒ‰ìƒ í”„ë¦¬ë·° ì œê±°ë¨ (EyeDropper ê¸°ë³¸ ì‚¬ìš©) -->
        
        <div class="palette-controls">
          <button id="clearPaletteBtn" class="btn btn-outline-danger btn-sm">
            ğŸ—‘ï¸ Clear All
          </button>
          <button id="exportPaletteBtn" class="btn btn-outline-info btn-sm">
            ğŸ“¤ Export
          </button>
          <button id="toggleSamplingBtn" class="btn btn-warning btn-sm">
            â¸ï¸ Pause Sampling
          </button>
        </div>
        
        <!-- ìƒ‰ìƒ íŒ”ë ˆíŠ¸ í‘œì‹œ ì˜ì—­ -->
        <div class="color-swatches" id="colorSwatches">
          <div class="swatches-container">
            <!-- ìƒ‰ìƒ ìŠ¤ì›Œì¹˜ë“¤ì´ ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
            <div class="empty-palette-message">
              <p>ğŸ¨ No colors sampled yet</p>
              <small>Click anywhere on the webpage to start sampling colors!</small>
            </div>
          </div>
        </div>
        
        <!-- ì„ íƒëœ ìƒ‰ìƒ ì •ë³´ -->
        <div class="selected-color-info" id="selectedColorInfo" style="display: none;">
          <div class="color-preview">
            <div class="color-preview-swatch" id="selectedColorSwatch"></div>
            <div class="color-details">
              <div class="color-name" id="selectedColorName">#FF5722</div>
              <div class="color-formats">
                <small id="selectedColorFormats">RGB(255, 87, 34) | HSL(14Â°, 100%, 57%)</small>
              </div>
            </div>
          </div>
          <div class="color-actions">
            <button class="btn btn-outline-primary btn-sm" data-copy="hex">Copy HEX</button>
            <button class="btn btn-outline-primary btn-sm" data-copy="rgb">Copy RGB</button>
            <button class="btn btn-outline-primary btn-sm" data-copy="hsl">Copy HSL</button>
            <button class="btn btn-outline-danger btn-sm" id="deleteColorBtn">ğŸ—‘ï¸</button>
          </div>
        </div>
        
        <!-- ìƒ‰ìƒ í•˜ëª¨ë‹ˆ ì œì•ˆ (ê³ ê¸‰ ê¸°ëŠ¥) -->
        <div class="color-harmony" id="colorHarmony" style="display: none;">
          <h4>ğŸ­ Color Harmony</h4>
          <div class="harmony-controls">
            <select id="harmonyType" class="form-select form-select-sm">
              <option value="complementary">Complementary</option>
              <option value="analogous">Analogous</option>
              <option value="triadic">Triadic</option>
            </select>
            <button id="generateHarmonyBtn" class="btn btn-outline-secondary btn-sm">Generate</button>
          </div>
          <div class="harmony-swatches" id="harmonySwatches">
            <!-- í•˜ëª¨ë‹ˆ ìƒ‰ìƒë“¤ì´ ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
          </div>
        </div>
      </div>
      
      <!-- Console Monitor ì„¹ì…˜ -->
      <div class="console-section" id="consoleSection" style="display: none;">
        <div class="console-header">
          <div class="section-title-row">
            <h3>ğŸ–¥ï¸ Console Monitor</h3>
            <button id="closeConsoleBtn" class="btn-close-x" title="Close Console">
              Ã—
            </button>
          </div>
          <div class="console-controls">
            <button id="toggleConsoleBtn" class="btn btn-info btn-sm">
              ğŸ” Start Monitor
            </button>
            <button id="clearConsoleBtn" class="btn btn-outline-secondary btn-sm">
              ğŸ—‘ï¸ Clear
            </button>
            <button id="exportConsoleBtn" class="btn btn-outline-info btn-sm">
              ğŸ“¤ Export
            </button>
          </div>
        </div>
        
        <div class="console-filters">
          <div class="filter-controls">
            <label>ğŸ” Filter:</label>
            <div class="filter-buttons">
              <button class="btn btn-outline-primary btn-sm filter-btn active" data-filter="all">
                All
              </button>
              <button class="btn btn-outline-danger btn-sm filter-btn" data-filter="error">
                âŒ Errors
              </button>
              <button class="btn btn-outline-warning btn-sm filter-btn" data-filter="warn">
                âš ï¸ Warnings
              </button>
              <button class="btn btn-outline-info btn-sm filter-btn" data-filter="info">
                â„¹ï¸ Info
              </button>
              <button class="btn btn-outline-secondary btn-sm filter-btn" data-filter="debug">
                ğŸ› Debug
              </button>
              <button class="btn btn-outline-dark btn-sm filter-btn" data-filter="failed-fetch">
                ğŸŒ Failed Fetch
              </button>
            </div>
          </div>
          
          <div class="search-controls">
            <input type="text" id="consoleSearchInput" class="form-control form-control-sm" placeholder="Search messages...">
            <button id="consoleSearchBtn" class="btn btn-outline-secondary btn-sm">ğŸ”</button>
          </div>
        </div>
        
        <div class="console-status">
          <div class="status-info">
            <span id="consoleMessageCount">0 messages</span>
            <span id="consoleStatus" class="console-status-indicator">ğŸ”´ Stopped</span>
          </div>
          <div class="console-performance">
            <small id="consolePerformanceInfo">Memory: 0KB | Rate: 0/sec</small>
          </div>
        </div>
        
        <div class="console-output" id="consoleOutput">
          <div class="console-welcome">
            <div class="welcome-icon">ğŸ–¥ï¸</div>
            <h4>Console Monitor Ready</h4>
            <p>Click "Start Monitor" to begin capturing console messages from the current webpage.</p>
            <div class="feature-list">
              <div class="feature-item">âœ… Real-time console capture</div>
              <div class="feature-item">âœ… Network error detection</div>
              <div class="feature-item">âœ… Smart filtering system</div>
              <div class="feature-item">âœ… Search and export</div>
            </div>
          </div>
          
          <!-- Console messages will be dynamically added here -->
        </div>
      </div>
      
      <!-- Asset Manager ì„¹ì…˜ (ê¸°ë³¸ ìˆ¨ê¹€) -->
      <div class="asset-manager" id="assetManager" style="display: none;">
        <div class="asset-header">
          <div class="section-title-row">
            <h3>ğŸ“¦ Asset Manager</h3>
            <button id="closeAssetManagerBtn" class="btn-close-x" title="Close Asset Manager">
              Ã—
            </button>
          </div>
          <div class="asset-summary">
            <span id="assetSummary">Loading assets...</span>
            <button id="refreshAssetsBtn" class="btn btn-outline-secondary btn-sm ms-2" title="Refresh Assets">
              ğŸ”„
            </button>
          </div>
        </div>
        
        <div class="asset-controls">
          <button id="downloadSelectedBtn" class="btn btn-success btn-sm" disabled>
            ğŸ“¥ Download Selected
          </button>
          <button id="downloadZipBtn" class="btn btn-primary btn-sm" disabled>
            ğŸ—œï¸ Download as ZIP
          </button>
          <button id="selectAllAssetsBtn" class="btn btn-outline-primary btn-sm">
            Select All
          </button>
          <button id="selectNoneAssetsBtn" class="btn btn-outline-secondary btn-sm">
            Clear All
          </button>
        </div>
        
        <!-- Asset ì¹´í…Œê³ ë¦¬ë“¤ -->
        <div class="asset-categories" id="assetCategories">
          <!-- JavaScriptë¡œ ë™ì  ìƒì„±ë©ë‹ˆë‹¤ -->
        </div>
      </div>

      <!-- ì‚¬ìš© ë°©ë²• ì„¤ëª… ì„¹ì…˜ -->
      <div class="instructions" id="instructionsSection">
        <!-- ì‚¬ìš© ë°©ë²• ì œëª© -->
        <h3>How to use:</h3>
        
        <!-- ìˆœì„œê°€ ìˆëŠ” ëª©ë¡ (ol = ordered list) -->
        <ol>
          <!-- ê° ë‹¨ê³„ë³„ ì„¤ëª… (li = list item) -->
          <li>Open this side panel on any webpage</li>
          <li>Move your cursor over page elements</li>
          <li>See elements highlighted with red borders</li>
          <li><strong>Click on a highlighted element</strong> to view its CSS properties</li>
          <li>Close the panel to disable highlighting</li>
        </ol>
      </div>
      
    </main>
    <!-- main ì„¹ì…˜ ë -->
    
  </div>
  <!-- container div ë -->
  
  <!-- Main sidepanel logic (ë§ˆì§€ë§‰ì— ë¡œë“œ) -->
  <script src="sidepanel.js"></script>
  
</body>
<!-- body ì„¹ì…˜ ë -->

</html>
<!-- HTML ë¬¸ì„œ ë -->
